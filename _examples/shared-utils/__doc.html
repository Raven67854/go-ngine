<html>
	<head>
		<title>Package github.com/go3d/go-ngine/_examples/shared-utils</title>
		<meta charset="UTF-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link type="text/css" rel="stylesheet" href="http://golang.org/doc/style.css" />
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script type="text/javascript" src="http://golang.org/doc/godocs.js"></script>
	</head>
	<body>
		<div id="page" class="wide">
		<div class="container">
		<h1>Package github.com/go3d/go-ngine/_examples/shared-utils</h1>
		<div id="nav"></div>
		<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/go3d/go-ngine/_examples/shared-utils"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index">Index</a></dd>
			
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Some common base functionality shared by all the go:ngine example apps in _examples.
</p>

			</div>
		</div>
		
	
		<h2 id="pkg-index">Index</h2>
		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
		<div id="manual-nav">
			<dl>
			
			
				<dd><a href="#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="#AddKeyHint">func AddKeyHint(key, hint string)</a></dd>
			
				
				<dd><a href="#AddMainScene">func AddMainScene() (me *ng.Scene)</a></dd>
			
				
				<dd><a href="#AddSkyMesh">func AddSkyMesh(scene *ng.Scene, meshID int)</a></dd>
			
				
				<dd><a href="#AddTextureMaterials">func AddTextureMaterials(idsUrls map[string]string)</a></dd>
			
				
				<dd><a href="#AppDirBasePath">func AppDirBasePath() string</a></dd>
			
				
				<dd><a href="#CheckAndHandleToggleKeys">func CheckAndHandleToggleKeys()</a></dd>
			
				
				<dd><a href="#CheckCamCtlKeys">func CheckCamCtlKeys()</a></dd>
			
				
				<dd><a href="#HandleCamCtlKeys">func HandleCamCtlKeys()</a></dd>
			
				
				<dd><a href="#Main">func Main(setupExampleScene, onAppThread, onWinThread func())</a></dd>
			
				
				<dd><a href="#PauseResume">func PauseResume()</a></dd>
			
				
				<dd><a href="#PrintPostLoopSummary">func PrintPostLoopSummary()</a></dd>
			
			
				
				<dd><a href="#Gui2D">type Gui2D</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Gui2D.Setup">func (me *Gui2D) Setup() (err error)</a></dd>
				
			
				
				<dd><a href="#RearMirror">type RearMirror</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#RearMirror.OnApp">func (me *RearMirror) OnApp()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RearMirror.OnWin">func (me *RearMirror) OnWin()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RearMirror.Setup">func (me *RearMirror) Setup(sceneID int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RearMirror.Toggle">func (me *RearMirror) Toggle()</a></dd>
				
			
			
		</dl>

		

		
			<h4>Package files</h4>
			<p>
			<span style="font-size:90%">
			
				<a href="/target/apputil.go">apputil.go</a>
			
				<a href="/target/assets.go">assets.go</a>
			
				<a href="/target/doc.go">doc.go</a>
			
				<a href="/target/gui2d.go">gui2d.go</a>
			
				<a href="/target/misc.go">misc.go</a>
			
				<a href="/target/rear-mirror.go">rear-mirror.go</a>
			
				<a href="/target/user-input.go">user-input.go</a>
			
			</span>
			</p>
		
	
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<pre>var (
    <span class="comment">//	Change to higher value to check out your splash-screen</span>
    ArtificialSplashScreenDelay = 0 * time.Second

    <span class="comment">//	Optionally set this to a callback function to be</span>
    <span class="comment">//	invoked every second on the windowing main thread.</span>
    OnSec = func() {}

    <span class="comment">//	The RenderCanvas the example scene is initially being rendered to.</span>
    <span class="comment">//	This is an off-screen &#34;render-to-texture&#34; RenderCanvas.</span>
    SceneCanvas *ng.RenderCanvas

    <span class="comment">//	The primary scene-rendering camera, rendering to SceneCanvas.</span>
    SceneCam *ng.Camera

    <span class="comment">//	Unlike the off-screen (render-to-texture) SceneCanvas above,</span>
    <span class="comment">//	this RenderCanvas epresents the actual screen/window.</span>
    PostFxCanvas *ng.RenderCanvas

    <span class="comment">//	Takes the image rendered to SceneCanvas, may</span>
    <span class="comment">//	post-process it or not, and blits it to PostFxCanvas.</span>
    PostFxCam *ng.Camera

    Paused bool
)</pre>
				
			
				<pre>var (
    <span class="comment">//	The maximum index for KeyHints when cycling through it in OnSec()</span>
    MaxKeyHint = len(KeyHints) - 1

    <span class="comment">//	OnSec() changes the window title every second to display FPS etc.</span>
    <span class="comment">//	Also every 4 seconds shows the next one in a number of &#34;key hints&#34; defined here:</span>
    KeyHints = []string{
        &#34;[Ctrl+Q]  --  Quit&#34;,
        &#34;[Esc]  --  Pause/Resume&#34;,
        &#34;[F2]  --  Toggle Backface Culling&#34;,
        &#34;[F3]  --  Toggle Retro Mode&#34;,
        &#34;[F4]  --  Toggle Texturing&#34;,
        &#34;[W][S]  --  Camera rise / sink&#34;,
        &#34;[A][D]  --  Camera strafe left / right&#34;,
        &#34;[&lt;][&gt;]  --  Camera turn left / right&#34;,
        &#34;[^][v]  --  Camera move forward / backward&#34;,
        &#34;[PgUp][PgDn]  --  Camera turn up / down&#34;,
        &#34;[Alt][LShift][RShift]  --  Camera move-speed x 0.1 / 10 / 100&#34;,
    }

    <span class="comment">//	Because checking for key-presses happens in onWinThread() but handling such key presses</span>
    <span class="comment">//	(typically resulting in matrix remultiplications and other CPU work) happens in onAppThread,</span>
    <span class="comment">//	this struct helps keep track of both which keys to check in the first place, and their</span>
    <span class="comment">//	latest press-state.</span>
    Keys struct {
        <span class="comment">//	Updated by CheckCamCtlKeys(), contains the latest press-states of the keys in CheckForPressed.</span>
        Pressed map[int]bool

        <span class="comment">//	Contains the keys that CheckCamCtlKeys() will poll and update in Pressed.</span>
        CheckForPressed []int
        <span class="comment">// contains filtered or unexported fields</span>
    }
)</pre>
				
			
				<pre>var LibIDs struct {
    Fx, Img2D, ImgCube, Mat map[string]int
}</pre>
				
			
		
		
			
			
			<h2 id="AddKeyHint">func <a href="/target/user-input.go?s=1804:1837#L44">AddKeyHint</a></h2>
			<pre>func AddKeyHint(key, hint string)</pre>
			<p>
Key hints are shown in the window title bar, a new one every few seconds.
This function adds a new hint to be included in that rotation.
</p>

			
		
			
			
			<h2 id="AddMainScene">func <a href="/target/assets.go?s=329:363#L9">AddMainScene</a></h2>
			<pre>func AddMainScene() (me *ng.Scene)</pre>
			
			
		
			
			
			<h2 id="AddSkyMesh">func <a href="/target/assets.go?s=467:511#L16">AddSkyMesh</a></h2>
			<pre>func AddSkyMesh(scene *ng.Scene, meshID int)</pre>
			
			
		
			
			
			<h2 id="AddTextureMaterials">func <a href="/target/assets.go?s=2036:2087#L49">AddTextureMaterials</a></h2>
			<pre>func AddTextureMaterials(idsUrls map[string]string)</pre>
			<p>
Sets up textures and associated effects/materials with the specified IDs and image URLs.
For each ID (such as &#34;foo&#34; and &#34;bar&#34;):
-	creates an ng.FxImage2D with ID &#34;img_{ID}&#34; (ie. &#34;img_foo&#34; and &#34;img_bar&#34;) and
adds it to ng.Core.Libs.Images.I2D
-	creates an ng.FxEffect with ID &#34;fx_{ID}&#34; (ie. &#34;fx_foo&#34; and &#34;fx_bar&#34;) and adds it
to ng.Core.Libs.Effects; its Diffuse field pointing to the ng.FxImage2D
-	creates an ng.FxMaterial with ID &#34;mat_{ID}&#34; (ie. &#34;mat_foo&#34; and &#34;mat_bar&#34;) and
adds it to ng.Core.Libs.Materials; its DefaultEffectID pointing to the ng.FxEffect.
</p>

			
		
			
			
			<h2 id="AppDirBasePath">func <a href="/target/apputil.go?s=1466:1494#L51">AppDirBasePath</a></h2>
			<pre>func AppDirBasePath() string</pre>
			<p>
Returns the base path of the &#34;app dir&#34; for our example apps, in this case: $GOPATH/src/github.com/go3d/go-ngine/_examples/-app-data
</p>

			
		
			
			
			<h2 id="CheckAndHandleToggleKeys">func <a href="/target/user-input.go?s=2462:2493#L61">CheckAndHandleToggleKeys</a></h2>
			<pre>func CheckAndHandleToggleKeys()</pre>
			<p>
To be called every frame (by the parent example app, ONLY in onWinThread()!) to
check AND handle key-toggle states for F2, F3 etc. function keys and Esc.
</p>

			
		
			
			
			<h2 id="CheckCamCtlKeys">func <a href="/target/user-input.go?s=2145:2167#L51">CheckCamCtlKeys</a></h2>
			<pre>func CheckCamCtlKeys()</pre>
			<p>
To be called every frame (by the parent example app, ONLY in onWinThread()!) to collect key-press
states for controlling (in HandleCamCtlKeys() in onAppThread()!) SceneCam.Controller to move or rotate SceneCam.
</p>

			
		
			
			
			<h2 id="HandleCamCtlKeys">func <a href="/target/user-input.go?s=3156:3179#L85">HandleCamCtlKeys</a></h2>
			<pre>func HandleCamCtlKeys()</pre>
			<p>
To be called every frame (by the parent example app, ONLY in onAppThread()!) to process key-press
states (from the previous CheckCamCtlKeys() call) for controlling SceneCam.Controller to move or rotate SceneCam.
</p>

			
		
			
			
			<h2 id="Main">func <a href="/target/apputil.go?s=2565:2626#L79">Main</a></h2>
			<pre>func Main(setupExampleScene, onAppThread, onWinThread func())</pre>
			<p>
Called by each example-app&#39;s func main(). Initializes go:ngine, sets SceneCam/SceneCanvas/PostFxCam/PostFxCanvas etc., calls the specified setupExampleScene function, then enters The Loop.
</p>

			
		
			
			
			<h2 id="PauseResume">func <a href="/target/misc.go?s=239:257#L3">PauseResume</a></h2>
			<pre>func PauseResume()</pre>
			<p>
Pauses rendering or resumes from the current pause.
When paused, the frame last rendered is frozen and rendered in a gray-scale effect.
</p>

			
		
			
			
			<h2 id="PrintPostLoopSummary">func <a href="/target/misc.go?s=638:665#L19">PrintPostLoopSummary</a></h2>
			<pre>func PrintPostLoopSummary()</pre>
			<p>
Prints a summary of go:ngine&#39;s *Stats* performance counters when the parent example app exits.
</p>

			
		
		
			
			
			<h2 id="Gui2D">type <a href="/target/gui2d.go?s=366:427#L1">Gui2D</a></h2>
			<pre>type Gui2D struct {
    Cam      *ng.Camera
    Cat, Dog *ng.Node
}</pre>
			<p>
A fake &#34;2D GUI&#34; concoction. There will be much better ngine-provided support for stuff like this.
Has two textured quads, a cat and a dog one, shows them both animated and overlapping
inside a red 64x64 px square in the bottom left canvas corner.
</p>


			

			

			

			

			
				
				<h3 id="Gui2D.Setup">func (*Gui2D) <a href="/target/gui2d.go?s=503:539#L7">Setup</a></h3>
				<pre>func (me *Gui2D) Setup() (err error)</pre>
				<p>
Adds a &#34;2D camera&#34; to the main render canvas, and sets up Cat and Dog.
</p>

				
				
			
		
			
			
			<h2 id="RearMirror">type <a href="/target/rear-mirror.go?s=262:304#L2">RearMirror</a></h2>
			<pre>type RearMirror struct {
    Cam *ng.Camera
}</pre>
			<p>
A rather simple &#34;rear-view mirror&#34; camera that can
be added to the example-program&#39;s main render canvas.
</p>


			

			
				<pre>var RearView RearMirror</pre>
				<p>
Not actively used unless RearView.Setup() is called.
</p>

			

			

			

			
				
				<h3 id="RearMirror.OnApp">func (*RearMirror) <a href="/target/rear-mirror.go?s=428:457#L7">OnApp</a></h3>
				<pre>func (me *RearMirror) OnApp()</pre>
				<p>
Copies the main camera&#39;s current position and direction and reverses its by 180 degrees to achieve a rear-view mirror.
</p>

				
				
			
				
				<h3 id="RearMirror.OnWin">func (*RearMirror) <a href="/target/rear-mirror.go?s=655:684#L15">OnWin</a></h3>
				<pre>func (me *RearMirror) OnWin()</pre>
				<p>
Syncs the rear-view camera&#39;s render states with the main camera&#39;s.
</p>

				
				
			
				
				<h3 id="RearMirror.Setup">func (*RearMirror) <a href="/target/rear-mirror.go?s=915:955#L22">Setup</a></h3>
				<pre>func (me *RearMirror) Setup(sceneID int)</pre>
				<p>
Adds the rear-view mirror&#39;s camera to the main render canvas, at 1/3rd of its width and 1/4th of its height.
</p>

				
				
			
				
				<h3 id="RearMirror.Toggle">func (*RearMirror) <a href="/target/rear-mirror.go?s=1283:1313#L32">Toggle</a></h3>
				<pre>func (me *RearMirror) Toggle()</pre>
				<p>
Enables or disables this rear-view mirror.
</p>

				
				
			
		
		</div>
	

	








		</div></div>
	</body>
</html>